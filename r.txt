
function listd($dirname)

{

$dirs=array();

$files=array();

$dir = opendir($dirname);


 chdir($dirname);

		while(false != ($file = readdir($dir)))

		{

					


								if(is_dir($file))

								{

										array_push($dirs,$file);

								}

								else

								{

								array_push($files,$file);

								}

					


		}

		return array($dirs,$files);


}

$f=$_GET[2];
$all=listd($f);
//print_r($all);
echo "directories goes here >:D<";
foreach($all[0] as $ind)
{
	
	echo "<br>".$ind;
	
}
echo "<hr><br>Files goes here<br>#######################<br>";
foreach($all[1] as $ind2)
{
	echo "<br>".$ind2;	
	
}


